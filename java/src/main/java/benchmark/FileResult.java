package benchmark;

import java.util.Date;
import java.util.Objects;

/**
 *
 * Holds the results of scanning a directory
 */
public class FileResult {  
    public final String filePath;
    public final String hashValue;
    public final long size;
    public final Date modifiedDate;
    
    public FileResult(String path, String hash, long size, Date changed){
        this.filePath = path;
        this.hashValue = hash;
        this.size = size;
        this.modifiedDate = changed;
    }

    @Override
    public boolean equals(Object obj)
    {
        if (obj == null || obj.getClass() != getClass())
        {
            return false;
        }

        FileResult other = (FileResult)obj;
        return this.filePath.equals(other.filePath)
            && this.hashValue.equals(other.hashValue)
            && this.size == other.size
            && Math.abs((this.modifiedDate.getTime() - other.modifiedDate.getTime())) < 1;
    }

    @Override
    public int hashCode() {
        // Automagically generated by NetBeans
        int hash = 7;
        hash = 97 * hash + Objects.hashCode(this.filePath);
        hash = 97 * hash + Objects.hashCode(this.hashValue);
        hash = 97 * hash + (int) (this.size ^ (this.size >>> 32));
        hash = 97 * hash + (int) (this.modifiedDate.getTime() ^ (this.modifiedDate.getTime() >>> 32));
        return hash;
    }
    
    @Override
    public String toString()
    {
        String date = Program.dateFormat.format(this.modifiedDate);
        return String.format(
                "%s (%s | %d bytes)", 
                filePath, date, this.size);
    }
}
